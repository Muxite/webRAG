{
  "captured_at": "2026-02-06T05:15:55.960615+00:00",
  "region": "us-east-2",
  "cluster": "euglena-cluster",
  "cluster_config": {
    "cluster_name": "euglena-cluster",
    "cluster_arn": "arn:aws:ecs:us-east-2:848960888155:cluster/euglena-cluster",
    "status": "ACTIVE",
    "container_insights": "disabled",
    "registered_container_instances_count": 0,
    "running_tasks_count": 2,
    "pending_tasks_count": 0,
    "active_services_count": 2
  },
  "services": {
    "euglena-gateway": {
      "service_name": "euglena-gateway",
      "service_arn": "arn:aws:ecs:us-east-2:848960888155:service/euglena-cluster/euglena-gateway",
      "status": "ACTIVE",
      "desired_count": 1,
      "running_count": 1,
      "pending_count": 0,
      "task_definition": "arn:aws:ecs:us-east-2:848960888155:task-definition/euglena-gateway:70",
      "task_definition_config": {
        "family": "euglena-gateway",
        "revision": 70,
        "cpu": "1024",
        "memory": "2048",
        "network_mode": "awsvpc",
        "task_role_arn": "arn:aws:iam::848960888155:role/ecsTaskRole",
        "execution_role_arn": "arn:aws:iam::848960888155:role/ecsTaskExecutionRole",
        "requires_compatibilities": [
          "FARGATE"
        ],
        "registered_at": "2026-02-05 20:02:37.673000-08:00",
        "containers": [
          {
            "name": "chroma",
            "image": "chromadb/chroma:latest",
            "essential": false,
            "cpu": 0,
            "memory": null,
            "memory_reservation": null,
            "port_mappings": [
              {
                "containerPort": 8000,
                "hostPort": 8000,
                "protocol": "tcp"
              }
            ],
            "environment": [
              {
                "name": "TRANSFORMERS_CACHE",
                "value": "/chroma-data/.cache/huggingface"
              },
              {
                "name": "IS_PERSISTENT",
                "value": "TRUE"
              },
              {
                "name": "PERSIST_DIRECTORY",
                "value": "/chroma-data"
              },
              {
                "name": "SENTENCE_TRANSFORMERS_HOME",
                "value": "/chroma-data/.cache"
              }
            ],
            "secrets": [],
            "depends_on": [],
            "health_check": {
              "command": [
                "CMD-SHELL",
                "curl -f -s -S --max-time 15 --connect-timeout 5 http://localhost:8000/api/v1/heartbeat > /dev/null 2>&1 || exit 1"
              ],
              "interval": 60,
              "timeout": 30,
              "retries": 6,
              "start_period": 300
            }
          },
          {
            "name": "redis",
            "image": "redis:7-alpine",
            "essential": true,
            "cpu": 0,
            "memory": null,
            "memory_reservation": null,
            "port_mappings": [
              {
                "containerPort": 6379,
                "hostPort": 6379,
                "protocol": "tcp"
              }
            ],
            "environment": [],
            "secrets": [],
            "depends_on": [],
            "health_check": {
              "command": [
                "CMD-SHELL",
                "redis-cli ping | grep PONG || exit 1"
              ],
              "interval": 90,
              "timeout": 15,
              "retries": 6,
              "start_period": 120
            }
          },
          {
            "name": "rabbitmq",
            "image": "rabbitmq:3-management",
            "essential": true,
            "cpu": 0,
            "memory": null,
            "memory_reservation": null,
            "port_mappings": [
              {
                "containerPort": 5672,
                "hostPort": 5672,
                "protocol": "tcp"
              },
              {
                "containerPort": 15672,
                "hostPort": 15672,
                "protocol": "tcp"
              }
            ],
            "environment": [],
            "secrets": [
              {
                "name": "RABBITMQ_ERLANG_COOKIE",
                "value_from": "arn:aws:secretsmanager:us-east-2:848960888155:secret:euglena-secrets-zFuHS6:RABBITMQ_ERLANG_COOKIE::"
              }
            ],
            "depends_on": [],
            "health_check": {
              "command": [
                "CMD-SHELL",
                "rabbitmq-diagnostics ping || exit 1"
              ],
              "interval": 90,
              "timeout": 15,
              "retries": 6,
              "start_period": 300
            }
          },
          {
            "name": "gateway",
            "image": "848960888155.dkr.ecr.us-east-2.amazonaws.com/euglena/gateway:latest",
            "essential": true,
            "cpu": 0,
            "memory": null,
            "memory_reservation": null,
            "port_mappings": [
              {
                "containerPort": 8080,
                "hostPort": 8080,
                "protocol": "tcp"
              }
            ],
            "environment": [
              {
                "name": "CORS_ALLOWED_ORIGINS",
                "value": "https://web-rag-nine.vercel.app,http://localhost:3000,http://localhost:5173,http://127.0.0.1:3000,http://127.0.0.1:5173"
              },
              {
                "name": "GATEWAY_URL",
                "value": "http://localhost:8080"
              },
              {
                "name": "JITTER_SECONDS",
                "value": "0.5"
              },
              {
                "name": "MODEL_NAME",
                "value": "gpt-4o"
              },
              {
                "name": "MODEL_API_URL",
                "value": "https://api.openai.com/v1/"
              },
              {
                "name": "AGENT_STATUS_QUEUE",
                "value": "agent.status"
              },
              {
                "name": "CHROMA_URL",
                "value": "http://localhost:8000"
              },
              {
                "name": "LITE",
                "value": "true"
              },
              {
                "name": "AGENT_STATUS_TIME",
                "value": "10"
              },
              {
                "name": "COLD_START_SECONDS",
                "value": "120"
              },
              {
                "name": "GATEWAY_DEBUG_QUEUE_NAME",
                "value": "gateway.debug"
              },
              {
                "name": "GATEWAY_DEBUG_QUEUE_PHRASE",
                "value": "debugdebugdebug"
              },
              {
                "name": "DEFAULT_DELAY",
                "value": "2"
              },
              {
                "name": "AGENT_INPUT_QUEUE",
                "value": "agent.mandates"
              },
              {
                "name": "DAILY_TICK_LIMIT",
                "value": "256"
              },
              {
                "name": "DEFAULT_TIMEOUT",
                "value": "10"
              },
              {
                "name": "RABBITMQ_URL",
                "value": "amqp://guest:guest@localhost:5672/"
              },
              {
                "name": "REDIS_URL",
                "value": "redis://localhost:6379/0"
              }
            ],
            "secrets": [
              {
                "name": "OPENAI_API_KEY",
                "value_from": "arn:aws:secretsmanager:us-east-2:848960888155:secret:euglena-secrets-zFuHS6:OPENAI_API_KEY::"
              },
              {
                "name": "RABBITMQ_ERLANG_COOKIE",
                "value_from": "arn:aws:secretsmanager:us-east-2:848960888155:secret:euglena-secrets-zFuHS6:RABBITMQ_ERLANG_COOKIE::"
              },
              {
                "name": "SEARCH_API_KEY",
                "value_from": "arn:aws:secretsmanager:us-east-2:848960888155:secret:euglena-secrets-zFuHS6:SEARCH_API_KEY::"
              },
              {
                "name": "SUPABASE_ALLOW_UNCONFIRMED",
                "value_from": "arn:aws:secretsmanager:us-east-2:848960888155:secret:euglena-secrets-zFuHS6:SUPABASE_ALLOW_UNCONFIRMED::"
              },
              {
                "name": "SUPABASE_ANON_KEY",
                "value_from": "arn:aws:secretsmanager:us-east-2:848960888155:secret:euglena-secrets-zFuHS6:SUPABASE_ANON_KEY::"
              },
              {
                "name": "SUPABASE_API_KEY",
                "value_from": "arn:aws:secretsmanager:us-east-2:848960888155:secret:euglena-secrets-zFuHS6:SUPABASE_API_KEY::"
              },
              {
                "name": "SUPABASE_JWT_SECRET",
                "value_from": "arn:aws:secretsmanager:us-east-2:848960888155:secret:euglena-secrets-zFuHS6:SUPABASE_JWT_SECRET::"
              },
              {
                "name": "SUPABASE_URL",
                "value_from": "arn:aws:secretsmanager:us-east-2:848960888155:secret:euglena-secrets-zFuHS6:SUPABASE_URL::"
              }
            ],
            "depends_on": [
              {
                "container_name": "redis",
                "condition": "START"
              },
              {
                "container_name": "rabbitmq",
                "condition": "START"
              }
            ],
            "health_check": {
              "command": [
                "CMD-SHELL",
                "curl -f http://localhost:8080/health || exit 1"
              ],
              "interval": 90,
              "timeout": 15,
              "retries": 6,
              "start_period": 300
            }
          },
          {
            "name": "metrics",
            "image": "848960888155.dkr.ecr.us-east-2.amazonaws.com/euglena/metrics:latest",
            "essential": false,
            "cpu": 0,
            "memory": null,
            "memory_reservation": null,
            "port_mappings": [
              {
                "containerPort": 8082,
                "hostPort": 8082,
                "protocol": "tcp"
              }
            ],
            "environment": [
              {
                "name": "PUBLISH_QUEUE_DEPTH_METRICS",
                "value": "true"
              },
              {
                "name": "CLOUDWATCH_NAMESPACE",
                "value": "Euglena/RabbitMQ"
              },
              {
                "name": "GATEWAY_DEBUG_QUEUE_NAME",
                "value": "gateway.debug"
              },
              {
                "name": "RABBITMQ_URL",
                "value": "amqp://guest:guest@localhost:5672/"
              },
              {
                "name": "QUEUE_DEPTH_METRICS_INTERVAL",
                "value": "1"
              },
              {
                "name": "QUEUE_NAME",
                "value": "agent.mandates"
              }
            ],
            "secrets": [],
            "depends_on": [
              {
                "container_name": "rabbitmq",
                "condition": "START"
              }
            ],
            "health_check": {
              "command": [
                "CMD-SHELL",
                "curl -f http://localhost:8082/health || exit 1"
              ],
              "interval": 30,
              "timeout": 10,
              "retries": 3,
              "start_period": 60
            }
          }
        ],
        "volumes": [
          {
            "name": "chroma-data",
            "efs": {
              "file_system_id": "fs-0ec151e2adb754fc8",
              "root_directory": "/",
              "transit_encryption": "ENABLED",
              "authorization_config": {
                "iam": "ENABLED"
              }
            }
          },
          {
            "name": "rabbitmq-data",
            "efs": {
              "file_system_id": "fs-0ec151e2adb754fc8",
              "root_directory": "/",
              "transit_encryption": "ENABLED",
              "authorization_config": {
                "iam": "ENABLED"
              }
            }
          }
        ]
      },
      "launch_type": null,
      "platform_version": "LATEST",
      "deployment_configuration": {
        "maximum_percent": 200,
        "minimum_healthy_percent": 100,
        "deployment_circuit_breaker": {
          "enable": true,
          "rollback": true
        }
      },
      "health_check_grace_period_seconds": 100,
      "load_balancers": [
        {
          "target_group_arn": "arn:aws:elasticloadbalancing:us-east-2:848960888155:targetgroup/euglena-tg/ea4bbe2f98578c2a",
          "container_name": "gateway",
          "container_port": 8080
        }
      ],
      "service_registries": [
        {
          "registry_arn": "arn:aws:servicediscovery:us-east-2:848960888155:service/srv-wkqxubjpwqpb3uyt",
          "port": null
        }
      ],
      "network_configuration": {
        "awsvpc_configuration": {
          "subnets": [
            "subnet-059a0845ba7eb4a09",
            "subnet-0cd121febce7985b9"
          ],
          "security_groups": [
            "sg-0c45255737f0f9199"
          ],
          "assign_public_ip": "ENABLED"
        }
      },
      "capacity_provider_strategy": [
        {
          "capacityProvider": "FARGATE",
          "weight": 1,
          "base": 0
        }
      ]
    },
    "euglena-agent": {
      "service_name": "euglena-agent",
      "service_arn": "arn:aws:ecs:us-east-2:848960888155:service/euglena-cluster/euglena-agent",
      "status": "ACTIVE",
      "desired_count": 1,
      "running_count": 1,
      "pending_count": 0,
      "task_definition": "arn:aws:ecs:us-east-2:848960888155:task-definition/euglena-agent:69",
      "task_definition_config": {
        "family": "euglena-agent",
        "revision": 69,
        "cpu": "256",
        "memory": "512",
        "network_mode": "awsvpc",
        "task_role_arn": "arn:aws:iam::848960888155:role/ecsTaskRole",
        "execution_role_arn": "arn:aws:iam::848960888155:role/ecsTaskExecutionRole",
        "requires_compatibilities": [
          "FARGATE"
        ],
        "registered_at": "2026-02-05 20:02:40.712000-08:00",
        "containers": [
          {
            "name": "agent",
            "image": "848960888155.dkr.ecr.us-east-2.amazonaws.com/euglena/agent:latest",
            "essential": true,
            "cpu": 0,
            "memory": null,
            "memory_reservation": null,
            "port_mappings": [
              {
                "containerPort": 8081,
                "hostPort": 8081,
                "protocol": "tcp"
              }
            ],
            "environment": [
              {
                "name": "CORS_ALLOWED_ORIGINS",
                "value": "https://web-rag-nine.vercel.app,http://localhost:3000,http://localhost:5173,http://127.0.0.1:3000,http://127.0.0.1:5173"
              },
              {
                "name": "GATEWAY_URL",
                "value": "http://euglena-gateway.euglena.local:8080"
              },
              {
                "name": "JITTER_SECONDS",
                "value": "0.5"
              },
              {
                "name": "MODEL_NAME",
                "value": "gpt-4o"
              },
              {
                "name": "MODEL_API_URL",
                "value": "https://api.openai.com/v1/"
              },
              {
                "name": "AGENT_STATUS_QUEUE",
                "value": "agent.status"
              },
              {
                "name": "CHROMA_URL",
                "value": "http://euglena-gateway.euglena.local:8000"
              },
              {
                "name": "LITE",
                "value": "true"
              },
              {
                "name": "AGENT_STATUS_TIME",
                "value": "10"
              },
              {
                "name": "COLD_START_SECONDS",
                "value": "120"
              },
              {
                "name": "DEFAULT_DELAY",
                "value": "2"
              },
              {
                "name": "AGENT_INPUT_QUEUE",
                "value": "agent.mandates"
              },
              {
                "name": "DAILY_TICK_LIMIT",
                "value": "256"
              },
              {
                "name": "DEFAULT_TIMEOUT",
                "value": "10"
              },
              {
                "name": "RABBITMQ_URL",
                "value": "amqp://guest:guest@euglena-gateway.euglena.local:5672/"
              },
              {
                "name": "REDIS_URL",
                "value": "redis://euglena-gateway.euglena.local:6379/0"
              }
            ],
            "secrets": [
              {
                "name": "OPENAI_API_KEY",
                "value_from": "arn:aws:secretsmanager:us-east-2:848960888155:secret:euglena-secrets-zFuHS6:OPENAI_API_KEY::"
              },
              {
                "name": "RABBITMQ_ERLANG_COOKIE",
                "value_from": "arn:aws:secretsmanager:us-east-2:848960888155:secret:euglena-secrets-zFuHS6:RABBITMQ_ERLANG_COOKIE::"
              },
              {
                "name": "SEARCH_API_KEY",
                "value_from": "arn:aws:secretsmanager:us-east-2:848960888155:secret:euglena-secrets-zFuHS6:SEARCH_API_KEY::"
              },
              {
                "name": "SUPABASE_ALLOW_UNCONFIRMED",
                "value_from": "arn:aws:secretsmanager:us-east-2:848960888155:secret:euglena-secrets-zFuHS6:SUPABASE_ALLOW_UNCONFIRMED::"
              },
              {
                "name": "SUPABASE_ANON_KEY",
                "value_from": "arn:aws:secretsmanager:us-east-2:848960888155:secret:euglena-secrets-zFuHS6:SUPABASE_ANON_KEY::"
              },
              {
                "name": "SUPABASE_API_KEY",
                "value_from": "arn:aws:secretsmanager:us-east-2:848960888155:secret:euglena-secrets-zFuHS6:SUPABASE_API_KEY::"
              },
              {
                "name": "SUPABASE_JWT_SECRET",
                "value_from": "arn:aws:secretsmanager:us-east-2:848960888155:secret:euglena-secrets-zFuHS6:SUPABASE_JWT_SECRET::"
              },
              {
                "name": "SUPABASE_URL",
                "value_from": "arn:aws:secretsmanager:us-east-2:848960888155:secret:euglena-secrets-zFuHS6:SUPABASE_URL::"
              }
            ],
            "depends_on": [],
            "health_check": {
              "command": [
                "CMD-SHELL",
                "curl -f http://localhost:8081/health || exit 1"
              ],
              "interval": 90,
              "timeout": 15,
              "retries": 6,
              "start_period": 300
            }
          }
        ],
        "volumes": []
      },
      "launch_type": null,
      "platform_version": "LATEST",
      "deployment_configuration": {
        "maximum_percent": 200,
        "minimum_healthy_percent": 100,
        "deployment_circuit_breaker": {
          "enable": true,
          "rollback": true
        }
      },
      "health_check_grace_period_seconds": 100,
      "load_balancers": [],
      "service_registries": [],
      "network_configuration": {
        "awsvpc_configuration": {
          "subnets": [
            "subnet-059a0845ba7eb4a09",
            "subnet-0cd121febce7985b9"
          ],
          "security_groups": [
            "sg-0c45255737f0f9199"
          ],
          "assign_public_ip": "ENABLED"
        }
      },
      "capacity_provider_strategy": [
        {
          "capacityProvider": "FARGATE",
          "weight": 1,
          "base": 0
        }
      ]
    }
  }
}